/**
 * skylark-domx-noder - The skylark html node library for dom api extension.
 * @author Hudaokeji Co.,Ltd
 * @version v0.9.0
 * @link www.skylarkjs.org
 * @license MIT
 */
!function(e,n){var r=n.define,require=n.require,t="function"==typeof r&&r.amd,o=!t&&"undefined"!=typeof exports;if(!t&&!r){var i={};r=n.define=function(e,n,r){"function"==typeof r?(i[e]={factory:r,deps:n.map(function(n){return function(e,n){if("."!==e[0])return e;var r=n.split("/"),t=e.split("/");r.pop();for(var o=0;o<t.length;o++)"."!=t[o]&&(".."==t[o]?r.pop():r.push(t[o]));return r.join("/")}(n,e)}),resolved:!1,exports:null},require(e)):i[e]={factory:null,resolved:!0,exports:r}},require=n.require=function(e){if(!i.hasOwnProperty(e))throw new Error("Module "+e+" has not been defined");var module=i[e];if(!module.resolved){var r=[];module.deps.forEach(function(e){r.push(require(e))}),module.exports=module.factory.apply(n,r)||null,module.resolved=!0}return module.exports}}if(!r)throw new Error("The module utility (ex: requirejs or skylark-utils) is not loaded!");if(function(e,require){e("skylark-domx-noder/noder",["skylark-langx-ns","skylark-langx-types","skylark-langx-arrays","skylark-langx-strings","skylark-langx-scripter","skylark-domx-browser"],function(e,n,r,t,o,i){var l=Array.prototype.map;Array.prototype.slice;function a(e,t){var o=function(e){"function"==typeof e&&(e=e());return l.call(n.isArrayLike(e)?e:[e],e=>("function"==typeof e&&(e=e()),isElement(e)||isTextNode(e)||isFragment(e)?e:"string"==typeof e&&/\S/.test(e)?document.createTextNode(e):void 0)).filter(e=>e)}(e);return t&&(o=l.call(o,function(e){return e.cloneNode(!0)})),r.flatten(o)}function d(e,t){if(n.isFunction(e))return e.apply(t,[]);if(n.isArrayLike(e)){for(var o,i=0;i<e.length;i++)n.isFunction(e[i])&&(e[i]=e[i].apply(t,[]),n.isArrayLike(e[i])&&(o=!0));o&&(e=r.flatten(e))}return e}function u(){return u}return Object.assign(u,{after:function(e,n,r){n=d(n,e);var t=(i=e).parentNode;if(t)for(var o=a(n,r),i=i.nextSibling,l=0;l<o.length;l++)i?t.insertBefore(o[l],i):t.appendChild(o[l]);return this},append:function(e,n,r){n=d(n,e);for(var t=e,o=a(n,r),i=0;i<o.length;i++)t.appendChild(o[i]);return this},before:function(e,n,r){n=d(n,e);var t=e,o=t.parentNode;if(o)for(var i=a(n,r),l=0;l<i.length;l++)o.insertBefore(i[l],t);return this},blur:function(e){e.blur()},body:function(){return document.body},generateId:function(e){var n=e.tagName+e.className+e.src+e.href+e.textContent,r=n.length,t=0;for(;r--;)t+=n.charCodeAt(r);return t.toString(36)},fullscreen:fullscreen,focusable:focusable,fromPoint:function(e,n){return document.elementFromPoint(e,n)},isFullscreen:isFullscreen,prepend:function(e,n,r){for(var t=e,o=t.firstChild,i=a(n,r),l=0;l<i.length;l++)o?t.insertBefore(i[l],o):t.appendChild(i[l]);return this}}),e.attach("domx.noder",u)}),e("skylark-domx-noder/active",["./noder"],function(e){return e.active=function(e){var n;e=e||document;try{n=e.activeElement}catch(r){n=e.body}n||(n=e.body);n.nodeName||(n=e.body);return n}}),e("skylark-domx-noder/clone",["./noder"],function(e){return e.clone=function(e,n){return e.cloneNode(n)}}),e("skylark-domx-noder/is-child-of",["./noder"],function(e){return e.isChildOf=function(e,n,r){if(r)return e.parentNode===n;if(document.documentElement.contains)return n.contains(e);for(;e;){if(n===e)return!0;e=e.parentNode}return!1}}),e("skylark-domx-noder/contains",["./noder","./is-child-of"],function(e,n){return e.contains=function(e,r){return n(r,e)}}),e("skylark-domx-noder/create-element",["skylark-langx-types","./noder"],function(e,n){return n.createElement=function(r,t,o,i){var l;l=/svg/i.test(r)?document.createElementNS("http://www.w3.org/2000/svg",r):document.createElement(r);e.isHtmlNode(t)?(i=t,t=null,o=null):e.isHtmlNode(o)&&(i=o,o=null);if(t)for(var a in t)l[a]=t[a];if(o)for(var a in o)l.setAttribute(a,o[a]);i&&n.append(i,l);return l}}),e("skylark-domx-noder/create-fragment",["skylark-langx-strings","./noder","./create-element"],function(e,n){var r=/^\s*<(\w+|!)[^>]*>/,t=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,o=document.createElement("div"),i=document.createElement("table"),l=document.createElement("tbody"),a=document.createElement("tr"),d={tr:l,tbody:i,thead:i,tfoot:i,td:a,th:a,"*":o},u=Array.prototype.slice;return e.createFragment=function(e){if(e=strings.trim(e),t.test(e))return[n(RegExp.$1)];var o=r.test(e)&&RegExp.$1;o in d||(o="*");var i=d[o];return i.innerHTML=function(e){for(var n=e.split("/>"),r="",t=0;t<n.length-1;t++){var o=n[t].split("<");r+=n[t]+"></"+o[o.length-1].split(" ")[0]+">"}return r+n[n.length-1]}(""+e),dom=u.call(i.childNodes),dom.forEach(function(e){i.removeChild(e)}),dom}}),e("skylark-domx-noder/create-text-node",["./noder"],function(e){return e.createTextNode=function(e){return document.createTextNode(e)}}),e("skylark-domx-noder/doc",["./noder"],function(e){return e.doc=function(){return document}}),e("skylark-domx-noder/empty",["./noder"],function(e){return e.empty=function(e){for(;e.hasChildNodes();){var n=e.firstChild;e.removeChild(n)}return this}}),e("skylark-domx-noder/focusable",["./noder"],function(e){return e.focusable=function(e,n){var r,t,o,i,l,a=e.nodeName.toLowerCase();if("area"===a)return r=e.parentNode,t=r.name,!(!e.href||!t||"map"!==r.nodeName.toLowerCase())&&((o=$("img[usemap='#"+t+"']")).length>0&&o.is(":visible"));/^(input|select|textarea|button|object)$/.test(a)?(i=!e.disabled)&&(l=$(e).closest("fieldset")[0])&&(i=!l.disabled):i="a"===a&&e.href||n;return i&&$(e).is(":visible")&&visible($(e))}}),e("skylark-domx-noder/fullscreen",["skylark-domx-browser","./noder"],function(e,n){return n.fullscreen=function(n){return!1===n?e.exitFullscreen.apply(document):n?n[e.support.fullscreen.requestFullscreen]():document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement}}),e("skylark-domx-noder/html",["skylark-langx-types","skylark-langx-scripter","./noder","./empty"],function(e,n,r,t){return r.isInFrame=isInFrame}),e("skylark-domx-noder/is-active",["./noder"],function(e){return e.isActive=function(e){return e===document.activeElement&&(e.type||e.href)}}),e("skylark-domx-noder/is-block-node",["./noder"],function(e){var n=["div","p","ul","ol","li","blockquote","hr","pre","h1","h2","h3","h4","h5","table"];return e.isBlockNode=function(e){if(!e||3===e.nodeType)return!1;return new RegExp("^("+n.join("|")+")$").test(e.nodeName.toLowerCase())}}),e("skylark-domx-noder/is-doc",["./noder"],function(e){return e.isDoc=function(e){return null!=e&&e.nodeType==e.DOCUMENT_NODE}}),e("skylark-domx-noder/is-editable",["./noder"],function(e){return e.isEditable=function e(n){if(!n)return!1;if("false"===n.contentEditable)return!1;if("true"===n.contentEditable)return!0;return e(n.parentNode)}}),e("skylark-domx-noder/is-element",["./noder"],function(e){return e.isElement=function(e){return e&&1===e.nodeType}}),e("skylark-domx-noder/is-fragment",["./noder"],function(e){return e.isFragment=function(e){return e&&11===e.nodeType}}),e("skylark-domx-noder/is-fullscreen",["./noder","./fullscreen"],function(e,n){return e.isFullscreen=function(e){return n()===e}}),e("skylark-domx-noder/node-name",["./noder"],function(e){return e.nodeName=function(e,n){var r=e.nodeName&&e.nodeName.toLowerCase();if(void 0!==n)return r===n.toLowerCase();return r}}),e("skylark-domx-noder/offset-parent",["./noder"],function(e){var n=/^(?:body|html)$/i;return e.offsetParent=function(e){var r=e.offsetParent||document.body;for(;r&&!n.test(r.nodeName)&&"static"==document.defaultView.getComputedStyle(r).position;)r=r.offsetParent;return r}}),e("skylark-domx-noder/overlay",["skylark-domx-styler","./noder"],function(e,n){return n.overlay=function(r,t){var o=n.createElement("div",t);return e.css(o,{position:"absolute",top:0,left:0,width:"100%",height:"100%",zIndex:2147483647,opacity:.7}),r.appendChild(o),o}}),e("skylark-domx-noder/owner-doc",["./noder"],function(e){return e.ownerDoc=function(e){if(!e)return document;if(9==e.nodeType)return e;return e.ownerDocument}}),e("skylark-domx-noder/owner-window",["./noder","./owner-doc"],function(e,n){return e.ownerWindow=function(e){var r=n(e);return r.defaultView||r.parentWindow}}),e("skylark-domx-noder/reflow",["./noder"],function(e){return e.reflow=function(e){e||(e=document);return e.offsetHeight,this}}),e("skylark-domx-noder/remove-child",["skylark-langx-types","./noder"],function(e,n){return n.removeChild=function(n,r){e.isArrayLike(r)||(r=[r]);for(var t=0;t<r.length;t++)n.removeChild(r[t]);return this}}),e("skylark-domx-noder/scrolling-element",["./noder"],function(e){return e.scrollingElement=function(){return document.scrollingElement||document.documentElement}}),e("skylark-domx-noder/selectable",["./noder"],function(e){return e.selectable=function(e,n){if(void 0===e||void 0===e.style)return;e.onselectstart=n?function(){return!1}:function(){},e.style.MozUserSelect=n?"auto":"none",e.style.KhtmlUserSelect=n?"auto":"none",e.unselectable=n?"on":"off"}}),e("skylark-domx-noder/throb",["skylark-langx/langx","skylark-domx-styler","./noder"],function(e,n,r){return r.throb=function(e,t){(t=t||{}).text,t.style;var o,i=t.time,l=t.callback,a=r.createElement("div",{className:t.className||"throbber"}),d=function(){o&&(clearTimeout(o),o=null),a&&(r.remove(a),a=null)};t.style&&n.css(a,t.style);var u=t.content||'<span class="throb"></span>';r.html(a,u),e.appendChild(a),i&&(o=setTimeout(function(){d(),l&&l()},i));return{throbber:a,remove:d,update:function(e){e&&e.text&&a&&(textNode.nodeValue=e.text)}}}}),e("skylark-domx-noder/traverse",["./noder"],function(e){return e.traverse=function e(n,r){r(n);for(var t=0,o=n.childNodes.length;t<o;t++)e(n.childNodes[t],r);return this}}),e("skylark-domx-noder/unwrap",["./noder","./is-doc"],function(e,n){return e.unwrap=function(e){var r=e.parentNode;if(r){if(n(r.parentNode))return;r.parentNode.insertBefore(e,r)}}}),e("skylark-domx-noder/wrapper-inner",["./noder"],function(e){var n=Array.prototype.slice;return e.wrapperInner=function(e,r){var t=n.call(e.childNodes);e.appendChild(r);for(var o=0;o<t.length;o++)r.appendChild(t[o]);return this}}),e("skylark-domx-noder/wrapper",["./noder"],function(e){return e.wrapper=function(e,n){types.isString(n)&&(n=this.createFragment(n).firstChild);e.parentNode.insertBefore(n,e),n.appendChild(e)}}),e("skylark-domx-noder/main",["./noder","./active","./clone","./contains","./create-element","./create-fragment","./create-text-node","./doc","./empty","./focusable","./fullscreen","./html","./is-active","./is-block-node","./is-child-of","./is-doc","./is-editable","./is-element","./is-fragment","./is-fullscreen","./node-name","./offset-parent","./overlay","./owner-doc","./owner-window","./reflow","./remove-child","./scrolling-element","./selectable","./throb","./traverse","./unwrap","./wrapper-inner","./wrapper","./throb"],function(e){return e}),e("skylark-domx-noder",["skylark-domx-noder/main"],function(e){return e})}(r),!t){var l=require("skylark-langx-ns");o?module.exports=l:n.skylarkjs=l}}(0,this);
//# sourceMappingURL=sourcemaps/skylark-domx-noder.js.map
